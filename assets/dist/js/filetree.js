jQuery&&function(e){e.extend(e.fn,{fileTree:function(s,a,l){if(!s)s={};null==s.root&&(s.root="/"),null==s.script&&(s.script="jqueryFileTree.php"),null==s.folderEvent&&(s.folderEvent="click"),null==s.expandSpeed&&(s.expandSpeed=500),null==s.collapseSpeed&&(s.collapseSpeed=500),null==s.expandEasing&&(s.expandEasing=null),null==s.collapseEasing&&(s.collapseEasing=null),null==s.multiFolder&&(s.multiFolder=!0),null==s.loadMessage&&(s.loadMessage="Loading..."),e(this).each((function(){function t(n,i){e(n).addClass("wait"),e(".jqueryFileTree.start").remove(),e.post(s.script,{dir:i},(function(r){e(n).find(".start").html(""),e(n).removeClass("wait").append(r),s.root==i?e(n).find("UL:hidden").show():e(n).find("UL:hidden").slideDown({duration:s.expandSpeed,easing:s.expandEasing}),function(n){e(n).find("LI A").bind(s.folderEvent,(function(n){if(e(this).parent().hasClass("directory")||e(this).parent().hasClass("directory-settings")){if(e(n.target).is("img"))return l(e(this).attr("rel")),!1;e(this).parent().hasClass("collapsed")?(s.multiFolder||(e(this).parent().parent().find("UL").slideUp({duration:s.collapseSpeed,easing:s.collapseEasing}),e(this).parent().parent().find("LI.directory").removeClass("expanded").addClass("collapsed"),e(this).parent().parent().find("LI.directory-settings").removeClass("expanded").addClass("collapsed")),e(this).parent().find("UL").remove(),t(e(this).parent(),escape(e(this).attr("rel").match(/.*\//))),e(this).parent().removeClass("collapsed").addClass("expanded")):(e(this).parent().find("UL").slideUp({duration:s.collapseSpeed,easing:s.collapseEasing}),e(this).parent().removeClass("expanded").addClass("collapsed"))}else{if((e(this).parent().hasClass("file")||e(this).parent().hasClass("file-settings"))&&!e(n.target).is("img"))return!1;a(e(this).attr("rel"))}return!1})),"click"!=s.folderEvent.toLowerCase&&e(n).find("LI A").bind("click",(function(){return!1}))}(n)}))}e(this).html('<ul class="jqueryFileTree start"><li class="wait">'+s.loadMessage+"<li></ul>"),t(e(this),escape(s.root))}))}})}(jQuery);
